
<!DOCTYPE html>
<html lang="zh-cn">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Monster &amp; Flower">
    <title>Monster &amp; Flower</title>
    <meta name="author" content="Tianyou Pan">
    
    
        <link rel="icon" href="https://blogimage-1253148269.cos.ap-chengdu.myqcloud.com/favicon.jpg">
    
    
        <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
    
    <meta name="description" content="personal blog about tianyou pan&apos;s program travel">
<meta property="og:type" content="blog">
<meta property="og:title" content="Monster &amp; Flower">
<meta property="og:url" content="sherry0429.github.io/index.html">
<meta property="og:site_name" content="Monster &amp; Flower">
<meta property="og:description" content="personal blog about tianyou pan&apos;s program travel">
<meta property="og:locale" content="zh-cn">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Monster &amp; Flower">
<meta name="twitter:description" content="personal blog about tianyou pan&apos;s program travel">
    
    
        
    
    
        <meta property="og:image" content="https://blogimage-1253148269.cos.ap-chengdu.myqcloud.com/handface.jpg"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-eonj0pe2aabccyzjrtkp7h1yt1tl45l2v3xwpl2nilpuholcj85zrpl3eiid.min.css">
    <!--STYLES END-->
    

    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


<header id="header" data-behavior="1">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/ ">Monster &amp; Flower</a>
    </div>
    
        
            <a  class="header-right-icon "
                href="#about">
        
        
            <i class="fa fa-lg fa-question"></i>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="1">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a href="/#about">
                    <img class="sidebar-profile-picture" src="https://blogimage-1253148269.cos.ap-chengdu.myqcloud.com/handface.jpg" alt="author‘s picture"/>
                </a>
                <h4 class="sidebar-profile-name">Tianyou Pan</h4>
                
                    <h5 class="sidebar-profile-bio"><p>光阴似箭，日月如梭，然而，人可以老，力可以衰，心却不能死，理想也不能灭…</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/ "
                            
                            title="Home"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-categories/"
                            
                            title="Categories"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-tags"
                            
                            title="Tags"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-archives"
                            
                            title="Archives"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="#about"
                            
                            title="About"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://github.com/sherry0429" target="_blank" rel="noopener" title="Github">
                    
                        <i class="sidebar-button-icon fa fa-lg fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Github</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://stackoverflow.com/users/5557569/sherry0429" target="_blank" rel="noopener" title="Stack Overflow">
                    
                        <i class="sidebar-button-icon fa fa-lg fa-stack-overflow" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Stack Overflow</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/atom.xml"
                            
                            title="RSS"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="1"
                 class="
                        hasCoverMetaIn
                        ">
                <section class="postShorten-group main-content-wrap">
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2019/02/13/gitclone的postbuffer上限问题/">
                            git clone error RPC failed
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2019-02-13T10:17:09+08:00">
	
		    2月 13, 2019
    	
    </time>
    
        <span>发布在 </span>
        
    <a class="category-link" href="/categories/git/">git</a>


    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <h4 id="1-错误内容："><a href="#1-错误内容：" class="headerlink" title="1. 错误内容："></a>1. 错误内容：</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">error: RPC failed; curl 18 transfer closed with 31812496 bytes remaining to read</span><br><span class="line">fatal: The remote end hung up unexpectedly</span><br><span class="line">fatal: early EOF</span><br><span class="line">fatal: index-pack failed</span><br></pre></td></tr></table></figure>
<h4 id="2-错误原因："><a href="#2-错误原因：" class="headerlink" title="2. 错误原因："></a>2. 错误原因：</h4><p>git clone 分为两种形式，https或者ssh，前者（https）clone时会有一个buffer上限。当超过此上限就会报错。后者则不会。</p>
<h4 id="3-修改方法："><a href="#3-修改方法：" class="headerlink" title="3. 修改方法："></a>3. 修改方法：</h4><p>方法1：</p>
<p>使用ssh的方式克隆。</p>
<p>方法2：</p>
<p>shell下输入：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.postBuffer 524288000</span><br></pre></td></tr></table></figure>
<p>修改postBuffer为500MB。当然这个值可以视情况自己去增大，如果真的非常大，还是使用方法一，不建议此方法。</p>
<h4 id="4-另"><a href="#4-另" class="headerlink" title="4. 另"></a>4. 另</h4><p>git clone瘦身的方式还有一种，即给仓库开一个新分支，在新分支中只放少量需要修改的文件。之后</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone -b branch_name git_repo_url</span><br></pre></td></tr></table></figure>
<p>只克隆该分支，之后pull。然后由owner对两个branch做merge即可。</p>

                    
                        

                    
                    
                        <p>
                            <a href="/2019/02/13/gitclone的postbuffer上限问题/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2019/02/12/gitment修复/">
                            gitment修复[object ProgressEvent]
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2019-02-12T10:13:58+08:00">
	
		    2月 12, 2019
    	
    </time>
    
        <span>发布在 </span>
        
    <a class="category-link" href="/categories/other/">other</a>


    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <p>现在全网的gitment都出现了一个问题[object ProgressEvent]，见：</p>
<p><a href="https://github.com/imsun/gitment/issues/170" target="_blank" rel="noopener">https://github.com/imsun/gitment/issues/170</a></p>
<p>我记录一下我自己的修复过程，这篇博文下的评论已经恢复，遇到问题的可以留言进行交流。</p>
<h3 id="1-起因"><a href="#1-起因" class="headerlink" title="1. 起因"></a>1. 起因</h3><p><a href="https://imsun.github.io/gitment/dist/gitment.browser.js" target="_blank" rel="noopener">https://imsun.github.io/gitment/dist/gitment.browser.js</a> 内 </p>
<p>向网址 <a href="https://gh-oauth.imsun.net" target="_blank" rel="noopener">https://gh-oauth.imsun.net</a> 发送了验证请求，这个gh-oauth.imsun.net是作者自行搭建的，现在不在维护了。所以出现了问题。</p>
<p>那么修复过程就是：</p>
<ol>
<li>自己建立这个服务器</li>
<li>browser.js中引用这个网址的地方，改为自己的网址</li>
<li>主题中引用的browser.js，不能是原来gitment的js，而要是自己修改过的js</li>
</ol>
<h3 id="2-修复步骤"><a href="#2-修复步骤" class="headerlink" title="2. 修复步骤"></a>2. 修复步骤</h3><h4 id="2-1-建立服务器"><a href="#2-1-建立服务器" class="headerlink" title="2.1. 建立服务器"></a>2.1. 建立服务器</h4><p>ssh上自己的服务器</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1. 安装npm</span><br><span class="line">2. 安装nginx</span><br><span class="line">3. 安装git</span><br><span class="line">4. git clone https://github.com/imsun/gh-oauth-server</span><br><span class="line">5. cd gh-oauth-server</span><br><span class="line">6. npm install</span><br></pre></td></tr></table></figure>
<p>修改nginx文件，具体自行百度，即将自己的域名映射到本地3000端口，因为gh-oauth-server是绑定在3000端口上的。</p>
<p><strong>当然，理论上可以直接用ip + 3000端口的方式访问到这个server，不需要nginx的，但是这样一来你的ip会暴露在browser.js中，十分的不安全。同时也不利于开启https。</strong></p>
<h4 id="2-2-测试"><a href="#2-2-测试" class="headerlink" title="2.2. 测试"></a>2.2. 测试</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd gh-oauth-server</span><br><span class="line">nohup npm start &amp;</span><br><span class="line">vi nohup.out</span><br></pre></td></tr></table></figure>
<p>输出信息</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span> gh-oauth-server@0.0.1 start /home/pty/gitment-oauth-server/gh-oauth-server</span><br><span class="line"><span class="meta">&gt;</span> node server</span><br><span class="line"></span><br><span class="line">gh-oauth-server listening on port 3000</span><br></pre></td></tr></table></figure>
<p>则表示一切正常</p>
<h4 id="2-3-建立自己的gitment-browser-js"><a href="#2-3-建立自己的gitment-browser-js" class="headerlink" title="2.3. 建立自己的gitment.browser.js"></a>2.3. 建立自己的gitment.browser.js</h4><p>随便找某个node_modules，只要有gitment就行，最好是最新的。然后修改</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">..\node_modules\gitment\dist\gitment.browser.js</span><br></pre></td></tr></table></figure>
<p>将其中的</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">_utils.http.post(<span class="string">'https://gh-oauth.imsun.net'</span>, &#123;</span><br><span class="line">   code: code,</span><br><span class="line">   client_id: client_id,</span><br><span class="line">   client_secret: client_secret</span><br><span class="line"> &#125;, <span class="string">''</span>).then(<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">   _this.accessToken = data.access_token;</span><br><span class="line">   _this.update();</span><br><span class="line"> &#125;).catch(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">   _this.state.user.isLoggingIn = <span class="literal">false</span>;</span><br><span class="line">   alert(e);</span><br><span class="line"> &#125;);</span><br></pre></td></tr></table></figure>
<p>代码里引用的<a href="https://gh-oauth.imsun.net服务器地址，修改为刚才2.1步骤我们启动的服务器地址。" target="_blank" rel="noopener">https://gh-oauth.imsun.net服务器地址，修改为刚才2.1步骤我们启动的服务器地址。</a></p>
<p>然后将修复后的文件存储在git上，或者oss，或者服务器上，<strong><em>要求能从外部访问。</em></strong></p>
<h3 id="3-tranquilpeak的gitment修复"><a href="#3-tranquilpeak的gitment修复" class="headerlink" title="3. tranquilpeak的gitment修复"></a>3. tranquilpeak的gitment修复</h3><p>这个主题相对于其他主题而言，可以自己修改代码后编译。但是编译过程中需要安装很多东西，步骤比较繁琐。</p>
<p>这里只指出步骤，在编译过程中出现的问题基本上google都有答案，一般就是MSbuild不对，比如少Net 2.5之类的。</p>
<p>下面为修复步骤：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. cd tranquilpeak\layout\_partial</span><br><span class="line">2. vi script.ejs</span><br><span class="line">3. 将gc.src = &apos;**&apos;; 一行中的地址，替换为你自己修复过后的gitment.browser.js的地址。</span><br></pre></td></tr></table></figure>
<p>运行自带的build-tranquilpeak.sh即可。</p>
<p>运行之后会生成新的tranquilpeak，是一个新文件夹，hexo-theme-tranquilpeak-built-for-production-1.11.0</p>
<p>在hexo的config.yml中引用这个新文件夹即可。</p>

                    
                        

                    
                    
                        <p>
                            <a href="/2019/02/12/gitment修复/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2019/02/12/NPM修复Cannot-read-property-matchof-undefined/">
                            NPM修复Cannot read property &#39;match&#39; of undefined
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2019-02-12T10:13:30+08:00">
	
		    2月 12, 2019
    	
    </time>
    
        <span>发布在 </span>
        
    <a class="category-link" href="/categories/other/">other</a>


    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <p>npm出现</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">18 verbose stack TypeError: Cannot read property 'match' of undefined</span><br><span class="line">18 verbose stack     at tarballToVersion (C:\Program Files\nodejs\node_modules\npm\lib\install\inflate-shrinkwrap.js:87:20)</span><br><span class="line">18 verbose stack     at inflatableChild (C:\Program Files\nodejs\node_modules\npm\lib\install\inflate-shrinkwrap.js:99:22)</span><br><span class="line">18 verbose stack     at BB.each (C:\Program Files\nodejs\node_modules\npm\lib\install\inflate-shrinkwrap.js:55:12)</span><br><span class="line">18 verbose stack     at tryCatcher (C:\Program Files\nodejs\node_modules\npm\node_modules\bluebird\js\release\util.js:16:23)</span><br><span class="line">18 verbose stack     at Object.gotValue (C:\Program Files\nodejs\node_modules\npm\node_modules\bluebird\js\release\reduce.js:155:18)</span><br><span class="line">18 verbose stack     at Object.gotAccum (C:\Program Files\nodejs\node_modules\npm\node_modules\bluebird\js\release\reduce.js:144:25)</span><br><span class="line">18 verbose stack     at Object.tryCatcher (C:\Program Files\nodejs\node_modules\npm\node_modules\bluebird\js\release\util.js:16:23)</span><br><span class="line">18 verbose stack     at Promise._settlePromiseFromHandler (C:\Program Files\nodejs\node_modules\npm\node_modules\bluebird\js\release\promise.js:512:31)</span><br><span class="line">18 verbose stack     at Promise._settlePromise (C:\Program Files\nodejs\node_modules\npm\node_modules\bluebird\js\release\promise.js:569:18)</span><br><span class="line">18 verbose stack     at Promise._settlePromise0 (C:\Program Files\nodejs\node_modules\npm\node_modules\bluebird\js\release\promise.js:614:10)</span><br><span class="line">18 verbose stack     at Promise._settlePromises (C:\Program Files\nodejs\node_modules\npm\node_modules\bluebird\js\release\promise.js:693:18)</span><br><span class="line">18 verbose stack     at Async._drainQueue (C:\Program Files\nodejs\node_modules\npm\node_modules\bluebird\js\release\async.js:133:16)</span><br><span class="line">18 verbose stack     at Async._drainQueues (C:\Program Files\nodejs\node_modules\npm\node_modules\bluebird\js\release\async.js:143:10)</span><br><span class="line">18 verbose stack     at Immediate.Async.drainQueues [as _onImmediate] (C:\Program Files\nodejs\node_modules\npm\node_modules\bluebird\js\release\async.js:17:14)</span><br><span class="line">18 verbose stack     at runCallback (timers.js:696:18)</span><br><span class="line">18 verbose stack     at tryOnImmediate (timers.js:667:5)</span><br><span class="line">19 verbose cwd C:\blog\themes\tranquilpeak</span><br><span class="line">20 verbose Windows_NT 10.0.17763</span><br><span class="line">21 verbose argv "C:\\Program Files\\nodejs\\node.exe" "C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js" "install" "--registry=https://registry.npm.taobao.org"</span><br><span class="line">22 verbose node v10.3.0</span><br><span class="line">23 verbose npm  v6.1.0</span><br><span class="line">24 error Cannot read property 'match' of undefined</span><br><span class="line">25 verbose exit [ 1, true ]</span><br></pre></td></tr></table></figure>
<p>如何解决？</p>
<p>删除package-lock.json和node_modules即可，然后重新npm install</p>
<p><a href="https://npm.community/t/cannot-read-property-match-of-undefined/203/2" target="_blank" rel="noopener">https://npm.community/t/cannot-read-property-match-of-undefined/203/2</a></p>

                    
                        

                    
                    
                        <p>
                            <a href="/2019/02/12/NPM修复Cannot-read-property-matchof-undefined/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2019/02/11/centos使用ss 客户端/">
                            centos使用ss客户端
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2019-02-11T17:10:37+08:00">
	
		    2月 11, 2019
    	
    </time>
    
        <span>发布在 </span>
        
    <a class="category-link" href="/categories/other/">other</a>


    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <p>1.yum install shadowsocks-qt5</p>
<p>2.输入配置文件 启动ssqt5</p>
<p>3.在网络设置中，代理选择手动设置，删除http，https代理，只保留socks代理，域127.0.0.1，端口1080.删除忽略主机。</p>

                    
                        

                    
                    
                        <p>
                            <a href="/2019/02/11/centos使用ss 客户端/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2019/02/11/django 重置models/">
                            Django重置models的办法
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2019-02-11T17:10:37+08:00">
	
		    2月 11, 2019
    	
    </time>
    
        <span>发布在 </span>
        
    <a class="category-link" href="/categories/other/">other</a>


    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <p>1.删除app的migrations</p>
<p>2.删除数据库django_migrations表中对应该app的所有记录</p>
<p>3.确保数据库的表和app中的migrations一致</p>
<p>4.python manage.py makemigrations app_name </p>
<p>5.python manage.py migrate app_name –fake</p>
<p>6.此时已经重置该app的migration记录到此项目</p>
<p>7.在此项目进行变更时，make migrations , migrate将可以同步到数据库</p>

                    
                        

                    
                    
                        <p>
                            <a href="/2019/02/11/django 重置models/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2019/02/11/README/">
                            README
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2019-02-11T16:11:16+08:00">
	
		    2月 11, 2019
    	
    </time>
    
        <span>发布在 </span>
        
    <a class="category-link" href="/categories/other/">other</a>


    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <p>个人博客</p>

                    
                        

                    
                    
                        <p>
                            <a href="/2019/02/11/README/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2019/01/30/postgresql的序列/">
                            postgresql的序列重置
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2019-01-30T17:47:29+08:00">
	
		    1月 30, 2019
    	
    </time>
    
        <span>发布在 </span>
        
    <a class="category-link" href="/categories/other/">other</a>


    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <h1 id="postgresql的序列"><a href="#postgresql的序列" class="headerlink" title="postgresql的序列"></a>postgresql的序列</h1><p>设置pfund_stockindexdata表的id序列起始值为338<br>SELECT setval(‘pfund_stockindexdata_id_seq’, 338, true); </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">下一个值：nextval(regclass)</span><br><span class="line">当前值：currval(regclass)</span><br><span class="line">设置值：setval(regclass)</span><br></pre></td></tr></table></figure>

                    
                        

                    
                    
                        <p>
                            <a href="/2019/01/30/postgresql的序列/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2018/02/27/如何购买比特币/">
                            如何购买比特币
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2018-02-27T16:24:39+08:00">
	
		    2月 27, 2018
    	
    </time>
    
        <span>发布在 </span>
        
    <a class="category-link" href="/categories/knowledge/">knowledge</a>


    
</div>

            </div>
            
                <div class="postShorten-excerpt" itemprop="articleBody">
                    <p>mmmm，蹭蹭热点，一直听人说比特币，区块链，决定自己买一点，也算紧跟潮流了，不多，只有100 CNY~</p>
                    
                        <a href="/2018/02/27/如何购买比特币/" class="postShorten-excerpt_link link">
                            阅读全文
                        </a>
                        
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2018/02/26/比特币与区块链/">
                            比特币与区块链
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2018-02-26T10:12:22+08:00">
	
		    2月 26, 2018
    	
    </time>
    
        <span>发布在 </span>
        
    <a class="category-link" href="/categories/Reprint/">Reprint</a>


    
</div>

            </div>
            
                <div class="postShorten-excerpt" itemprop="articleBody">
                    <p>注明：这是一篇转载文章，感谢原创作者</p>
<p>原link：<a href="https://www.zhihu.com/question/37290469/answer/107612456" target="_blank" rel="noopener">区块链是什么，如何简单易懂地介绍区块链？ - 汪乐-LaiW3n</a></p>
<p>目前比特币和区块链貌似有点火，研究一波，这里贴一篇知乎上的链接，记录下来。</p>
                    
                        <a href="/2018/02/26/比特币与区块链/" class="postShorten-excerpt_link link">
                            阅读全文
                        </a>
                        
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2018/02/25/如何便捷的在博客中插入图片/">
                            如何便捷的在Hexo博客中插入图片
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2018-02-25T15:37:06+08:00">
	
		    2月 25, 2018
    	
    </time>
    
        <span>发布在 </span>
        
    <a class="category-link" href="/categories/knowledge/">knowledge</a>


    
</div>

            </div>
            
                <div class="postShorten-excerpt" itemprop="articleBody">
                    <p>Hexo部署，如果使用GitPages，不得不面对上传图片过多时超过github.io库限制的问题，而使用OSS，又需要先上传到OSS，再在blog里引用链接，</p>
<p>有没有一种办法，写博客时插入图片，所见即所得，部署后，博客也自动采用OSS上的链接呢？</p>
<p>这里提供一种思路和实现</p>
                    
                        <a href="/2018/02/25/如何便捷的在博客中插入图片/" class="postShorten-excerpt_link link">
                            阅读全文
                        </a>
                        
                    
                </div>
            
        </div>
        
    </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
        
          <li class="pagination-next">
            <a class="btn btn--default btn--small" href="/page/2/">
              <span>Next</span>
              <i class="fa fa-angle-right text-base icon-ml"></i>
            </a>
          </li>
        
        <li class="pagination-number">第 1 页 共 4 页</li>
    </ul>
</div>

</section>


                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2019 Tianyou Pan. All Rights Reserved.
    </span>
</footer>

            </div>
            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <img id="about-card-picture" src="https://blogimage-1253148269.cos.ap-chengdu.myqcloud.com/handface.jpg" alt="author‘s picture"/>
        
            <h4 id="about-card-name">Tianyou Pan</h4>
        
            <div id="about-card-bio"><p>光阴似箭，日月如梭，然而，人可以老，力可以衰，心却不能死，理想也不能灭…</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>Python Developer</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker"></i>
                <br/>
                China.SiChuan
            </div>
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('https://blogimage-1253148269.cos.ap-chengdu.myqcloud.com/zongsi.png');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/script-t6ztvrkwotqq30w08guadl2mq4yn3gvnrzqwy1ojd4f6nrkqjn6kcdzdwznj.min.js"></script>
<!--SCRIPTS END-->



    </body>
</html>
